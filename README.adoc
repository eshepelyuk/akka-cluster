= Akka Cluster in Docker Swarm

== Run cluster

    $ docker network create -d overlay --attachable akka_cluster
    
    $ docker stack deploy -c docker-compose.yml akka_cluster

////
== Inspect cluster state

    $ docker run --network akka_cluster --rm alpine/httpie GET wallet:8778/jolokia/read/akka:type=Cluster/ClusterStatus | jq '.value | fromjson'
    
    $ docker run -it --network akka_cluster --rm jolokia/jmx4perl j4psh http://wallet:8778/jolokia
////

== Inspect cluster state

    $ docker run --network akka_cluster --rm alpine/httpie \
        GET wallet:8558/cluster/members | jq .
    
    $ docker run --network akka_cluster --rm alpine/httpie \
        GET wallet_adapter:8558/cluster/members | jq .

== Test node interaction

Test sharding::
----
$ docker run --network akka_cluster --rm alpine/httpie \
    GET wallet_rest:9090/hello_shard/$VAR <1>
----
<1> try to put various values instead of `$VAR`
     

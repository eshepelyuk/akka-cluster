= Akka Cluster in Docker Swarm

== Run cluster

    $ docker network create -d overlay --attachable akka_cluster
    
    $ docker stack deploy -c docker-compose.yml akka_cluster

== Inspect cluster state

    $ docker run --network akka_cluster --rm alpine/httpie GET wallet:8778/jolokia/read/akka:type=Cluster/ClusterStatus | jq '.value | fromjson'
    
    $ docker run -it --network akka_cluster --rm jolokia/jmx4perl j4psh http://wallet:8778/jolokia

== Test node interaction

Test pure sharding::
    $ docker run --network akka_cluster --rm alpine/httpie GET wallet_rest:9090/hello_shard/qwe 
    
Test cluster client receptionist::    
    $ docker run --network akka_cluster --rm alpine/httpie GET wallet_rest:9090/hello_client/qwe 
    
Test point 2 point via cluster works::    
    $ docker run --network akka_cluster --rm alpine/httpie GET wallet_rest:9090/hello_cluster/qwe 
